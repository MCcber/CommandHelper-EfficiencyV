<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Context="clr-namespace:CBHK.ControlDataContext"
    xmlns:VectorScrollBar="clr-namespace:CBHK.CustomControl.VectorScrollBar">

    <ControlTemplate x:Key="VerticalThumbStyle" TargetType="{x:Type Thumb}">
        <Border BorderBrush="Black" BorderThickness="2">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="2" MinHeight="1" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="2" MinHeight="1" />
                    <RowDefinition Height="6" MinHeight="0" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="2" />
                </Grid.ColumnDefinitions>

                <Rectangle
                    Grid.Row="0"
                    Grid.Column="2"
                    Fill="#F9FAFA" />
                <Rectangle
                    Grid.Row="2"
                    Grid.Column="0"
                    Fill="#F9FAFA" />
                <Rectangle
                    Grid.Row="1"
                    Grid.Column="1"
                    Fill="#E6E8EB" />
                <Rectangle
                    Grid.Row="0"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    Fill="#F5F6F7" />
                <Rectangle
                    Grid.RowSpan="1"
                    Grid.Column="0"
                    Fill="#F5F6F7" />
                <Rectangle
                    Grid.RowSpan="1"
                    Grid.Column="2"
                    Fill="#F5F6F7" />
                <Rectangle
                    Grid.Row="2"
                    Grid.Column="1"
                    Grid.ColumnSpan="2"
                    Fill="#F5F6F7" />
                <Rectangle
                    Grid.Row="3"
                    Grid.ColumnSpan="3"
                    Fill="#58585A" />
            </Grid>
        </Border>
    </ControlTemplate>

    <Style x:Key="VectorVerticalScrollBarStyle" TargetType="{x:Type VectorScrollBar:VectorScrollBar}">
        <Style.Setters>
            <Setter Property="SnapsToDevicePixels" Value="True" />
            <Setter Property="UseLayoutRounding" Value="False" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type VectorScrollBar:VectorScrollBar}">
                        <Grid
                            MinWidth="12"
                            MinHeight="20"
                            ClipToBounds="False">
                            <Rectangle
                                Width="4"
                                HorizontalAlignment="Center"
                                Panel.ZIndex="0"
                                Fill="#313233" />
                            <Track
                                x:Name="PART_Track"
                                Panel.ZIndex="1"
                                IsDirectionReversed="True">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton
                                        BorderThickness="0"
                                        Command="ScrollBar.PageUpCommand"
                                        FocusVisualStyle="{x:Null}">
                                        <RepeatButton.Template>
                                            <ControlTemplate TargetType="RepeatButton">
                                                <Border Background="Transparent" BorderThickness="0">
                                                    <ContentPresenter />
                                                </Border>
                                            </ControlTemplate>
                                        </RepeatButton.Template>
                                    </RepeatButton>
                                </Track.DecreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb Template="{DynamicResource VerticalThumbStyle}" />
                                </Track.Thumb>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton
                                        BorderThickness="0"
                                        Command="ScrollBar.PageDownCommand"
                                        FocusVisualStyle="{x:Null}">
                                        <RepeatButton.Template>
                                            <ControlTemplate TargetType="RepeatButton">
                                                <Border Background="Transparent" BorderThickness="0">
                                                    <ContentPresenter />
                                                </Border>
                                            </ControlTemplate>
                                        </RepeatButton.Template>
                                    </RepeatButton>
                                </Track.IncreaseRepeatButton>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style.Setters>
    </Style>

    <Style x:Key="VectorHorizontalScrollBarStyle" TargetType="{x:Type VectorScrollBar:VectorScrollBar}">
        <Style.Setters>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type VectorScrollBar:VectorScrollBar}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="2" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="2" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="2" />
                            </Grid.ColumnDefinitions>
                            <Rectangle
                                Grid.Row="0"
                                Grid.Column="2"
                                Fill="#F9FAFA" />
                            <Rectangle
                                Grid.Row="2"
                                Grid.Column="0"
                                Fill="#F9FAFA" />
                            <Rectangle
                                Grid.RowSpan="3"
                                Grid.Column="1"
                                Fill="#E6E8EB" />
                            <Rectangle
                                Grid.Row="0"
                                Grid.Column="0"
                                Grid.ColumnSpan="2"
                                Fill="#F5F6F7" />
                            <Rectangle
                                Grid.Row="1"
                                Grid.Column="0"
                                Fill="#F5F6F7" />
                            <Rectangle
                                Grid.Row="2"
                                Grid.Column="1"
                                Grid.ColumnSpan="2"
                                Fill="#F5F6F7" />
                            <Rectangle
                                Grid.Row="1"
                                Grid.Column="2"
                                Fill="#F5F6F7" />
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style.Setters>
    </Style>

    <Style x:Key="VectorScrollViewerStyle" TargetType="{x:Type ScrollViewer}">
        <Setter Property="OverridesDefaultStyle" Value="True" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ScrollViewer}">
                    <Grid Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <!--<ColumnDefinition Width="Auto" />-->
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <!--<RowDefinition Height="Auto" />-->
                        </Grid.RowDefinitions>

                        <ScrollContentPresenter
                            x:Name="PART_ScrollContentPresenter"
                            Grid.Row="0"
                            Grid.Column="0"
                            Margin="{TemplateBinding Padding}"
                            CanContentScroll="{TemplateBinding CanContentScroll}" />

                        <VectorScrollBar:VectorScrollBar
                            x:Name="PART_VerticalScrollBar"
                            Grid.Row="0"
                            Grid.Column="0"
                            HorizontalAlignment="Right"
                            Maximum="{TemplateBinding ScrollableHeight}"
                            Style="{DynamicResource VectorVerticalScrollBarStyle}"
                            ViewportSize="{TemplateBinding ViewportHeight}"
                            Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"
                            Value="{Binding VerticalOffset, Mode=OneWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" />

                        <VectorScrollBar:VectorScrollBar
                            x:Name="PART_HorizontalScrollBar"
                            Grid.Row="0"
                            Grid.Column="0"
                            Height="12"
                            Margin="0,0,20,0"
                            VerticalAlignment="Bottom"
                            Maximum="{TemplateBinding ScrollableWidth}"
                            Orientation="Horizontal"
                            ViewportSize="{TemplateBinding ViewportWidth}"
                            Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}"
                            Value="{Binding HorizontalOffset, Mode=OneWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" />
                    </Grid>

                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="False">
                            <Setter TargetName="PART_VerticalScrollBar" Property="Opacity" Value="0" />
                            <Setter TargetName="PART_HorizontalScrollBar" Property="Opacity" Value="0" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>