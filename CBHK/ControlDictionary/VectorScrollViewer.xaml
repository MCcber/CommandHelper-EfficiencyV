<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Context="clr-namespace:CBHK.ControlDataContext"
    xmlns:VectorScrollBar="clr-namespace:CBHK.CustomControl.VectorScrollBar">

    <ControlTemplate x:Key="VerticalThumbStyle" TargetType="{x:Type Thumb}">
        <Border BorderBrush="Black" BorderThickness="2">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="2" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="2" />
                    <RowDefinition Height="6" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="2" />
                </Grid.ColumnDefinitions>
                <Rectangle
                    Grid.Row="0"
                    Grid.Column="2"
                    Fill="#F9FAFA" />
                <Rectangle
                    Grid.Row="2"
                    Grid.Column="0"
                    Fill="#F9FAFA" />
                <Rectangle
                    Grid.RowSpan="3"
                    Grid.Column="1"
                    Fill="#E6E8EB" />
                <Rectangle
                    Grid.Row="0"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    Fill="#F5F6F7" />
                <Rectangle
                    Grid.Row="1"
                    Grid.Column="0"
                    Fill="#F5F6F7" />
                <Rectangle
                    Grid.Row="2"
                    Grid.Column="1"
                    Grid.ColumnSpan="2"
                    Fill="#F5F6F7" />
                <Rectangle
                    Grid.Row="1"
                    Grid.Column="2"
                    Fill="#F5F6F7" />
                <Rectangle
                    Grid.Row="3"
                    Grid.ColumnSpan="3"
                    Fill="#58585A" />
            </Grid>
        </Border>
    </ControlTemplate>

    <Style x:Key="VectorVerticalScrollBarStyle" TargetType="{x:Type VectorScrollBar:VectorScrollBar}">
        <Style.Setters>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type VectorScrollBar:VectorScrollBar}">
                        <Border Background="#58585A" BorderThickness="0">
                            <Track x:Name="PART_Track" IsDirectionReversed="True">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton
                                        Background="Transparent"
                                        BorderThickness="0"
                                        Command="ScrollBar.PageUpCommand" />
                                </Track.DecreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb Template="{StaticResource VerticalThumbStyle}" />
                                </Track.Thumb>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton
                                        Background="Transparent"
                                        BorderThickness="0"
                                        Command="ScrollBar.PageDownCommand" />
                                </Track.IncreaseRepeatButton>
                            </Track>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style.Setters>
    </Style>

    <Style x:Key="VectorHorizontalScrollBarStyle" TargetType="{x:Type VectorScrollBar:VectorScrollBar}">
        <Style.Setters>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type VectorScrollBar:VectorScrollBar}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="2" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="2" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="2" />
                            </Grid.ColumnDefinitions>
                            <Rectangle
                                Grid.Row="0"
                                Grid.Column="2"
                                Fill="#F9FAFA" />
                            <Rectangle
                                Grid.Row="2"
                                Grid.Column="0"
                                Fill="#F9FAFA" />
                            <Rectangle
                                Grid.RowSpan="3"
                                Grid.Column="1"
                                Fill="#E6E8EB" />
                            <Rectangle
                                Grid.Row="0"
                                Grid.Column="0"
                                Grid.ColumnSpan="2"
                                Fill="#F5F6F7" />
                            <Rectangle
                                Grid.Row="1"
                                Grid.Column="0"
                                Fill="#F5F6F7" />
                            <Rectangle
                                Grid.Row="2"
                                Grid.Column="1"
                                Grid.ColumnSpan="2"
                                Fill="#F5F6F7" />
                            <Rectangle
                                Grid.Row="1"
                                Grid.Column="2"
                                Fill="#F5F6F7" />
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style.Setters>
    </Style>

    <Style x:Key="VectorScrollViewerStyle" TargetType="{x:Type ScrollViewer}">
        <Setter Property="OverridesDefaultStyle" Value="True" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ScrollViewer}">
                    <Grid x:Name="Grid" Background="{TemplateBinding Background}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <!--<ColumnDefinition Width="Auto" />-->
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <!--<RowDefinition Height="Auto" />-->
                        </Grid.RowDefinitions>
                        <ScrollContentPresenter
                            x:Name="PART_ScrollContentPresenter"
                            Grid.Row="0"
                            Grid.Column="0"
                            Margin="{TemplateBinding Padding}"
                            CanContentScroll="{TemplateBinding CanContentScroll}"
                            CanHorizontallyScroll="False"
                            CanVerticallyScroll="False"
                            Content="{TemplateBinding Content}"
                            ContentTemplate="{TemplateBinding ContentTemplate}" />
                        <VectorScrollBar:VectorScrollBar
                            x:Name="PART_VerticalScrollBar"
                            Grid.Row="0"
                            Grid.Column="0"
                            HorizontalAlignment="Right"
                            MinHeight="10"
                            AutomationProperties.AutomationId="VerticalScrollBar"
                            Maximum="{TemplateBinding ScrollableHeight}"
                            Minimum="0"
                            Style="{StaticResource VectorVerticalScrollBarStyle}"
                            ViewportSize="{TemplateBinding ViewportHeight}"
                            Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"
                            Value="{Binding VerticalOffset, Mode=OneWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" />
                        <VectorScrollBar:VectorScrollBar
                            x:Name="PART_HorizontalScrollBar"
                            Grid.Row="0"
                            MinWidth="10"
                            Grid.Column="0"
                            VerticalAlignment="Bottom"
                            AutomationProperties.AutomationId="HorizontalScrollBar"
                            Maximum="{TemplateBinding ScrollableWidth}"
                            Minimum="0"
                            Orientation="Horizontal"
                            Style="{StaticResource VectorHorizontalScrollBarStyle}"
                            ViewportSize="{TemplateBinding ViewportWidth}"
                            Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}"
                            Value="{Binding HorizontalOffset, Mode=OneWay, RelativeSource={RelativeSource Mode=TemplatedParent}}" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <!--  鼠标在ScrollViewer内时显示滚动条  -->
                        <Trigger Property="IsMouseOver" Value="False">
                            <Setter TargetName="PART_VerticalScrollBar" Property="Opacity" Value="0" />
                            <Setter TargetName="PART_HorizontalScrollBar" Property="Opacity" Value="0" />
                        </Trigger>
                        <!--<MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition SourceName="PART_VerticalScrollBar" Property="IsMouseOver" Value="True" />
                            </MultiTrigger.Conditions>
                            <Setter TargetName="PART_VerticalScrollBar" Property="Opacity" Value="1" />
                        </MultiTrigger>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition SourceName="PART_HorizontalScrollBar" Property="IsMouseOver" Value="True" />
                            </MultiTrigger.Conditions>
                            <Setter TargetName="PART_HorizontalScrollBar" Property="Opacity" Value="1" />
                        </MultiTrigger>-->
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>