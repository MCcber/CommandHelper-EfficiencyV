<Container:VectorWindow
    x:Class="CBHK.View.Generator.EntityView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Container="clr-namespace:CBHK.CustomControl.Container"
    xmlns:CustomControl="clr-namespace:CBHK.CustomControl"
    xmlns:VectorButton="clr-namespace:CBHK.CustomControl.VectorButton"
    xmlns:behaviors="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:CBHK.View.Generator"
    xmlns:local_datacontext="clr-namespace:CBHK.View.Generator"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:prism="http://prismlibrary.com/"
    Title="实体生成器"
    Width="960"
    Height="635"
    MinWidth="960"
    MinHeight="635"
    prism:ViewModelLocator.AutoWireViewModel="True"
    Background="#2F2F2F"
    Icon="/CBHK;component/Resource/Common/Image/SpawnerIcon/IconEntities.png"
    IconMargin="5"
    ResizeMode="CanResizeWithGrip"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    mc:Ignorable="d">

    <Window.InputBindings>
        <KeyBinding
            Key="F5"
            Command="{Binding RunCommand}"
            Modifiers="Ctrl" />
        <KeyBinding
            Key="Esc"
            Command="{Binding ReturnCommand}"
            CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Container:VectorWindow}}" />
    </Window.InputBindings>

    <Window.Resources>
        <ImageBrush x:Key="Save" ImageSource="/CBHK;component/Resource/Common/Image/Save.png" />
        <ImageBrush x:Key="ButtonNormal" ImageSource="/CBHK;component/Resource/Common/Image/ButtonNormal.png" />
        <ImageBrush x:Key="ButtonPressed" ImageSource="/CBHK;component/Resource/Common/Image/ButtonPressed.png" />
        <ImageBrush x:Key="LeftArrow" ImageSource="/CBHK;component/Resource/Common/Image/IconArrowLeft.png" />
        <ImageBrush x:Key="RightArrow" ImageSource="/CBHK;component/Resource/Common/Image/IconArrowRight.png" />
    </Window.Resources>

    <behaviors:Interaction.Triggers>
        <behaviors:EventTrigger EventName="Loaded">
            <behaviors:CallMethodAction MethodName="Entity_Loaded" TargetObject="{Binding}" />
        </behaviors:EventTrigger>
    </behaviors:Interaction.Triggers>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <DockPanel Grid.Row="0">
            <VectorButton:VectorFlatImageButton
                HorizontalContentAlignment="Center"
                VerticalContentAlignment="Center"
                BorderThickness="0"
                Command="{Binding ReturnCommand}"
                CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}}"
                Image="/Resource/Common/Image/IconArrowLeft.png"
                ImageMargin="5"
                RenderOptions.BitmapScalingMode="Unspecified"
                RenderOptions.EdgeMode="Unspecified"
                Style="{DynamicResource VectorFlatImageButtonStyle}"
                ToolTipService.BetweenShowDelay="0"
                ToolTipService.InitialShowDelay="0">
                <VectorButton:VectorFlatImageButton.ToolTip>
                    <ToolTip
                        Background="#484848"
                        Content="ESC:返回主页"
                        Foreground="White" />
                </VectorButton:VectorFlatImageButton.ToolTip>
            </VectorButton:VectorFlatImageButton>
            <VectorButton:VectorFlatImageButton
                HorizontalContentAlignment="Center"
                VerticalContentAlignment="Center"
                BorderThickness="0"
                Command="{Binding RunCommand}"
                Image="/Resource/Common/Image/IconArrowRight.png"
                ImageMargin="5"
                RenderOptions.BitmapScalingMode="Unspecified"
                RenderOptions.EdgeMode="Unspecified"
                Style="{DynamicResource VectorFlatImageButtonStyle}"
                ToolTipService.BetweenShowDelay="0"
                ToolTipService.InitialShowDelay="0">
                <VectorButton:VectorFlatImageButton.ToolTip>
                    <ToolTip
                        Background="#484848"
                        Content="F5:运行"
                        Foreground="White" />
                </VectorButton:VectorFlatImageButton.ToolTip>
            </VectorButton:VectorFlatImageButton>
            <VectorButton:VectorFlatImageButton
                Width="40"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Command="{Binding SaveAllCommand}"
                Image="/Resource/Common/Image/Save.png"
                ImageMargin="5"
                Style="{DynamicResource VectorFlatImageButtonStyle}" />
            <VectorButton:VectorTextButton
                MinWidth="80"
                HorizontalAlignment="Left"
                Background="#EFF2F1"
                Command="{Binding AddEntityCommand}"
                Foreground="Black"
                OriginBottomHeight="3"
                Style="{DynamicResource VectorTextButtonStyle}"
                Text="添加" />
            <VectorButton:VectorTextButton
                MinWidth="80"
                HorizontalAlignment="Left"
                Background="#EFF2F1"
                Command="{Binding ClearEntityCommand}"
                Foreground="Black"
                OriginBottomHeight="3"
                Style="{DynamicResource VectorTextButtonStyle}"
                Text="清空" />
            <VectorButton:VectorTextButton
                MinWidth="80"
                HorizontalAlignment="Left"
                Background="#EFF2F1"
                Command="{Binding ImportEntityFromClipboardCommand}"
                Foreground="Black"
                OriginBottomHeight="3"
                Style="{DynamicResource VectorTextButtonStyle}"
                Text="从剪切板导入" />
            <VectorButton:VectorTextButton
                MinWidth="80"
                HorizontalAlignment="Left"
                Background="#EFF2F1"
                Command="{Binding ImportEntityFromFileCommand}"
                Foreground="Black"
                OriginBottomHeight="3"
                Style="{DynamicResource VectorTextButtonStyle}"
                Text="从文件导入" />
            <VectorButton:VectorTextButton
                MinWidth="80"
                HorizontalAlignment="Left"
                Background="#EFF2F1"
                Command="{Binding ClearUnnecessaryDataCommand}"
                Foreground="Black"
                OriginBottomHeight="3"
                Style="{DynamicResource VectorTextButtonStyle}"
                Text="冻结数据"
                ToolTipService.BetweenShowDelay="0"
                ToolTipService.InitialShowDelay="0">
                <VectorButton:VectorTextButton.ToolTip>
                    <ToolTip
                        Background="#2F2F2F"
                        Content="点击后清除历史实体的特指数据"
                        Foreground="White" />
                </VectorButton:VectorTextButton.ToolTip>
            </VectorButton:VectorTextButton>
            <VectorButton:VectorToggleIconTextButton
                VerticalContentAlignment="Center"
                Foreground="White"
                IsChecked="{Binding ShowGeneratorResult, Mode=OneWayToSource}"
                Style="{DynamicResource VectorToggleIconTextButtonStyle}"
                Text="显示结果" />
        </DockPanel>
        <Container:VectorTabControl
            Grid.Row="1"
            Background="Transparent"
            BorderThickness="0"
            ItemsSource="{Binding EntityPageList, IsAsync=True}"
            SelectedIndex="0"
            SelectedItem="{Binding SelectedEntityPage, Mode=OneWayToSource}"
            Style="{DynamicResource VectorTabControlStyle}" />
    </Grid>

</Container:VectorWindow>
